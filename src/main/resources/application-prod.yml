server:
  tomcat:
    accesslog:
      enabled: true
      directory: /home/ec2-user/app/logs # 권한 문제 해결을 위해 로그 경로 변경
      prefix: access_log
      suffix: .log
      pattern: common

spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}

  mail:
    username: ${SPRING_MAIL_USERNAME}
    password: ${SPRING_MAIL_PASSWORD}

  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        # 환경 변수 로드 실패 시를 대비해 Dialect 명시
        dialect: org.hibernate.dialect.MySQL8Dialect
    show-sql: false

jwt:
  expiration-ms: 3600000
  password-reset-expiration-ms: 900000
  secret: ${JWT_SECRET}

app:
  frontend-url: https://www.joycrew.co.kr
  sms:
    provider: solapi
    from-number: ${APP_SMS_FROM_NUMBER}
  kyc:
    token-secret: ${KYC_TOKEN_SECRET}
    token-ttl-minutes: 10

solapi:
  api-key: ${SOLAPI_API_KEY}
  api-secret: ${SOLAPI_API_SECRET}
  base-url: "https://api.solapi.com"

kakao:
  giftbiz:
    base-url: ${KAKAO_GIFTBIZ_BASE_URL}
    api-key: ${KAKAO_GIFTBIZ_API_KEY}
    timeout-ms: 5000
  callback:
    success-url: ${KAKAO_CALLBACK_SUCCESS_URL}
    fail-url: ${KAKAO_CALLBACK_FAIL_URL}
    gift-cancel-url: ${KAKAO_CALLBACK_GIFT_CANCEL_URL}

joycrew:
  points:
    krw_per_point: ${JOYCREW_POINTS_KRW_PER_POINT:40}

logging:
  file:
    name: /home/ec2-user/app/logs/app.log
    max-size: 10MB
    max-history: 7
  level:
    root: INFO
    com.joycrew.backend: INFO