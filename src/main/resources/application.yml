# ===================================================================
# COMMON CONFIGURATION (모든 환경 공통 설정)
#
# 이 파일은 dev, prod 등 모든 프로파일에 공통적으로 적용되는,
# 민감하지 않고 거의 변경되지 않는 기본 설정만 포함합니다.
# ===================================================================

server:
  port: 8082
  forward-headers-strategy: framework

spring:
  application:
    name: joycrew

  # 기본 활성 프로파일을 'dev'로 설정합니다.
  # EC2 배포 시에는 '-Dspring.profiles.active=prod' 옵션으로 'prod'가 활성화됩니다.
  profiles:
    active: dev

  # 모든 환경에서 공통으로 사용하는 메일 서버 정보
  mail:
    host: smtp.gmail.com
    port: 587
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

# API 문서 (Swagger/OpenAPI) 공통 설정
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html

# 로깅 공통 설정
logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
  level:
    # 기본 로그 레벨은 INFO로 설정하고, 각 프로파일에서 필요에 따라 오버라이드합니다.
    com.joycrew.backend: INFO
    org.springframework.web: INFO
    org.hibernate: INFO

# AWS 공통 설정
aws:
  region: 'ap-northeast-2'
  s3:
    bucket-name: 'joycrew-prod-bucket'

payment:
  kcp:
    site-key: 0123456789ABCDEF0123456789ABCDEF
    pay-url: https://testpay.kcp.co.kr/pay
    site-cd: T1234TEST

management:
  endpoints:
    web:
      exposure:
        include: health, info, prometheus
  metrics:
    tags:
      application: joycrew-backend