# ===================================================================
# DEVELOPMENT PROFILE (개발 환경)
#
# 'dev' 프로파일이 활성화되었을 때 적용되는 설정입니다.
# 민감 정보는 더미(dummy) 값으로 채워져 있어, 별도 설정 없이도
# 애플리케이션을 즉시 실행하고 기본적인 기능을 테스트할 수 있습니다.
# ===================================================================

spring:
  # 개발 중에는 H2 인메모리 데이터베이스를 사용합니다.
  datasource:
    url: jdbc:h2:mem:testdb;MODE=MySQL
    driver-class-name: org.h2.Driver
    username: sa
    password: ""

  # H2 데이터베이스 콘솔 활성화 (http://localhost:8082/h2-console)
  h2:
    console:
      enabled: true
      path: /h2-console

  # JPA 및 Hibernate 설정
  jpa:
    # 실행 시마다 스키마를 새로 생성하여 깨끗한 상태에서 시작합니다.
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        format_sql: true
    defer-datasource-initialization: true

  # 개발용 메일 서버 설정 (실제 발송 테스트 시 환경변수로 설정 필요)
  mail:
    username: joycrew.team@gmail.com
    password: ${DEV_MAIL_PASSWORD:dummy-mail-password}

# 개발용 JWT 시크릿 키
jwt:
  expiration-ms: 3600000
  password-reset-expiration-ms: 900000
  secret: ${DEV_JWT_SECRET:dev-super-secret-key-that-is-long-enough-for-hs256}

# 개발용 프론트엔드 및 KYC 설정
app:
  frontend-url: http://localhost:3000
  sms:
    provider: solapi
    from-number: "01044907174" # 개발용 발신번호
  kyc:
    token-secret: ${DEV_KYC_TOKEN_SECRET:dev-kyc-super-secret-key-for-testing-purposes}
    token-ttl-minutes: 10

# 개발용 Solapi (SMS) 설정 (실제 테스트 시 환경변수로 설정 필요)
solapi:
  api-key: ${DEV_SOLAPI_API_KEY:dummy-solapi-key}
  api-secret: ${DEV_SOLAPI_API_SECRET:dummy-solapi-secret}
  base-url: "https://api.solapi.com"

# 개발용 OTP 정책
otp:
  ttl-minutes: 5
  max-attempts: 5
  resend-cooldown-seconds: 30

# 개발용 카카오 API 설정 (실제 테스트 시 환경변수로 설정 필요)
kakao:
  giftbiz:
    base-url: https://gateway-giftbiz.kakao.com/openapi/giftbiz
    api-key: ${DEV_KAKAO_API_KEY:dummy-kakao-api-key}
    timeout-ms: 5000
  callback:
    success-url: http://localhost:8082/kakao/callback/success
    fail-url: http://localhost:8082/kakao/callback/fail
    gift-cancel-url: http://localhost:8082/kakao/callback/gift-cancel

# 개발용 포인트 설정
joycrew:
  points:
    krw_per_point: 40

# 개발 시 상세한 로그를 보기 위한 레벨 설정
logging:
  level:
    com.joycrew.backend: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.orm.jdbc.bind: TRACE